(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[36],{2601:function(e,t,r){"use strict";var n,s;e.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(s=r.g.process)?void 0:s.env)?r.g.process:r(8960)},7028:function(e,t,r){Promise.resolve().then(r.bind(r,1082))},1082:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return o}});var n=r(7437),s=r(9166),a=r(341),i=r(4033),l=r(2265),c=r(6535);function o(){let{pageLevelLoader:e,setPageLevelLoader:t,orderDetails:r,setOrderDetails:o,user:u}=(0,l.useContext)(s.GlobalContext),d=(0,i.useParams)(),f=(0,i.useRouter)();async function p(){t(!0);let e=await (0,a.s$)(d["order-details"]);e.success?(t(!1),o(e.data)):t(!1),console.log(e)}return((0,l.useEffect)(()=>{p()},[]),e)?(0,n.jsx)("div",{className:"w-full min-h-screen flex justify-center items-center",children:(0,n.jsx)(c.Z,{color:"#000000",loading:e,size:30,"data-testid":"loader"})}):(0,n.jsxs)("div",{className:"py-14 px-4 md:px-6",children:[(0,n.jsxs)("div",{className:"flex justify-start items-start space-y-2 flex-col",children:[(0,n.jsxs)("h1",{className:"text-3xl lg:text-4xl font-bold leading-7 lg:leading-9 text-gray-900",children:["Order #",r&&r._id]}),(0,n.jsxs)("p",{className:"text-base font-medium leadong-6 text-gray-600",children:[r&&r.createdAt&&r.createdAt.split("T")[0]," ","|"," ",r&&r.createdAt&&r.createdAt.split("T")[1].split(".")[0]]})]}),(0,n.jsxs)("div",{className:"mt-10 flex flex-col justify-center xl:flex-row items-stretch w-full xl:space-x-8 md:space-y-6 xl:space-y-0",children:[(0,n.jsxs)("div",{className:"flex flex-col justify-start items-start w-full space-y-4 md:space-y-6 xl:space-y-8",children:[(0,n.jsxs)("div",{className:"flex flex-col justify-start items-start bg-gray-50 px-4 py-4 md:p-6 xl:p-8 w-full",children:[(0,n.jsx)("p",{className:"font-bol text-lg ",children:"Your order summary"}),r&&r.orderItems&&r.orderItems.length?r.orderItems.map(e=>(0,n.jsxs)("div",{className:"mt-4 md:mt-6 flex flex-col md:flex-row justify-start items-start md:items-center md:space-x-6 xl:space-x-8 w-full",children:[(0,n.jsx)("div",{className:"pb-4 md:pb-8 w-full md:w-40",children:(0,n.jsx)("img",{src:e&&e.product&&e.product.imageUrl,className:"w-full hidden md:block"})}),(0,n.jsxs)("div",{className:"border-b border-gray-300 md:flex-row flex-col flex justify-between items-start w-full pb-8 space-y-4 md:space-y-0",children:[(0,n.jsx)("div",{className:"w-full flex flex-col justify-start items-start space-y-8",children:(0,n.jsx)("h3",{className:"text-xl font-semibold leading-6 text-gray-900",children:e&&e.product&&e.product.name})}),(0,n.jsx)("div",{className:"w-full flex justify-between items-start space-x-8",children:(0,n.jsxs)("h3",{className:"text-xl font-semibold leading-6 text-gray-900",children:["$",e&&e.product&&e.product.price]})})]})]},e._id)):null]}),(0,n.jsx)("div",{className:"flex justify-center flex-col md:flex-row items-stretch w-full space-y-4 md:space-y-0 md:space-x-5 xl:space-x-8",children:(0,n.jsxs)("div",{className:"flex flex-col px-4 py-6 md:p-6 xl:p-8 w-full bg-gray-50 space-y-6",children:[(0,n.jsx)("h3",{className:"text-xl font-semibold leading-6 text-gray-900",children:"Summary"}),(0,n.jsxs)("div",{className:"flex justify-center items-center w-full space-y-4 flex-col border-gray-200 border-b pb-4",children:[(0,n.jsxs)("div",{className:"flex justify-between w-full",children:[(0,n.jsx)("p",{className:"text-base leading-5 text-gray-800",children:"Subtotal"}),(0,n.jsxs)("p",{className:"text-base leading-5 text-gray-900",children:["$",r&&r.totalPrice]})]}),(0,n.jsxs)("div",{className:"flex justify-between w-full",children:[(0,n.jsx)("p",{className:"text-base leading-5 text-gray-800",children:"Shipping"}),(0,n.jsx)("p",{className:"text-base leading-5 text-gray-900",children:"Free"})]}),(0,n.jsxs)("div",{className:"flex justify-between w-full",children:[(0,n.jsx)("p",{className:"text-base leading-5 text-gray-800",children:"Subtotal"}),(0,n.jsxs)("p",{className:"text-base leading-5 text-gray-900",children:["$",r&&r.totalPrice]})]})]})]})})]}),(0,n.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,n.jsxs)("div",{className:"bg-gray-50 w-full xl:w-96 flex  items-center md:items-start px-4 py-6 flex-col",children:[(0,n.jsx)("h3",{className:"text-xl font-semibold leading-6 text-gray-900",children:"Customer Details"}),(0,n.jsx)("div",{className:"flex flex-col justify-start items-start flex-shrink-0",children:(0,n.jsxs)("div",{className:"flex gap-4 justify-center flex-col w-full md:justify-start   py-8 border-b border-gray-200",children:[(0,n.jsxs)("p",{className:"text-base font-semibold leading-4 text-left text-gray-950",children:["Name: ",null==u?void 0:u.name]}),(0,n.jsxs)("p",{className:"text-base font-semibold leading-4 text-left text-gray-950",children:["Email: ",null==u?void 0:u.email]})]})})]}),(0,n.jsx)("div",{className:"flex justify-between xl:h-full items-stretch w-full flex-col mt-6 md:mt-0",children:(0,n.jsx)("div",{className:"flex justify-center md:justify-start xl:flex-col flex-col md:space-x-6 lg:space-x-8 xl:space-x-0 space-y-4 md:space-y-0 xl:space-y-12 md:flex-row items-center md:items-start ",children:(0,n.jsxs)("div",{className:"flex justify-center md:justify-start items-center md:items-start flex-col space-y-4 xl:mt-8",children:[(0,n.jsx)("p",{children:"Shipping Address"}),(0,n.jsxs)("p",{children:["Address :"," ",r&&r.shippingAddress.address]}),(0,n.jsxs)("p",{children:["City :",r&&r.shippingAddress.city]}),(0,n.jsxs)("p",{children:["Country :"," ",r&&r.shippingAddress.country]}),(0,n.jsxs)("p",{children:["Postal Code :"," ",r&&r.shippingAddress.postalCode]})]})})}),(0,n.jsx)("button",{onClick:()=>f.push("/"),className:"mt-5 mr-5  inline-block bg-black text-white px-5 py-3 text-xs font-medium uppercase tracking-wide",children:"Shop Again"})]})]})]})}},9166:function(e,t,r){"use strict";r.r(t),r.d(t,{GlobalContext:function(){return l},default:function(){return d},initialCheckoutFormData:function(){return c}});var n=r(7437),s=r(1490),a=r(4033),i=r(2265);let l=(0,i.createContext)(null),c={shippingAddress:{},paymentMethod:"",totalPrice:0,isPaid:!1,paidAt:new Date,isProcessing:!0},o=["cart","checkout","account","orders","admin-view"],u=["/admin-view","/admin-view/add-product","/admin-view/all-products"];function d(e){let{children:t}=e,[r,d]=(0,i.useState)(!1),[f,p]=(0,i.useState)(!0),[m,x]=(0,i.useState)({loading:!1,id:""}),[h,y]=(0,i.useState)(null),[g,v]=(0,i.useState)(null),[j,b]=(0,i.useState)(null),[w,N]=(0,i.useState)(!1),[S,O]=(0,i.useState)([]),[k,C]=(0,i.useState)([]),[T,E]=(0,i.useState)({fullName:"",city:"",country:"",postalCode:"",address:""}),[_,A]=(0,i.useState)(c),[P,I]=(0,i.useState)([]),[R,U]=(0,i.useState)(null),[z,B]=(0,i.useState)([]),L=(0,a.useRouter)(),D=(0,a.usePathname)();return(0,i.useEffect)(()=>{if(void 0!==s.Z.get("token")){y(!0);let e=JSON.parse(localStorage.getItem("user"))||{},t=JSON.parse(localStorage.getItem("cartItems"))||[];v(e),O(t)}else y(!1),v({})},[s.Z]),(0,i.useEffect)(()=>{"/register"!==D&&!D.includes("product")&&"/"!==D&&g&&0===Object.keys(g).length&&o.includes(D)>-1&&L.push("/login")},[g,D]),(0,i.useEffect)(()=>{null!==g&&g&&Object.keys(g).length>0&&(null==g?void 0:g.role)!=="admin"&&u.indexOf(D)>-1&&L.push("/unauthorized-page")},[g,D]),(0,n.jsx)(l.Provider,{value:{showNavmodel:r,setShowNavmodel:d,pageLevelLoader:f,setPageLevelLoader:p,isAuthUser:h,setIsAuthUser:y,user:g,setUser:v,componentLevelLoader:m,setComponentLevelLoader:x,currentUpdatedProduct:j,setCurrentUpdatedProduct:b,showCartModel:w,setShowCartModel:N,cartItems:S,setCartItems:O,addresses:k,setAddresses:C,addressFormData:T,setAddressFormData:E,checkoutFormData:_,setCheckoutFormData:A,allOrdersForUser:P,setAllOrdersForUser:I,orderDetails:R,setOrderDetails:U,allOrdersForAllUsers:z,setAllOrdersForAllUsers:B},children:t})}},341:function(e,t,r){"use strict";r.d(t,{Bi:function(){return o},ax:function(){return i},mg:function(){return a},s$:function(){return l},wr:function(){return u}});var n=r(1490),s=r(2601);let a=async e=>{try{let t=await fetch("/api/order/create-order",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n.Z.get("token"))},body:JSON.stringify(e)});return await t.json()}catch(e){console.log(e)}},i=async e=>{try{let t=await fetch("/api/order/get-all-orders?id=".concat(e),{method:"GET",headers:{Authorization:"Bearer ".concat(n.Z.get("token"))}});return await t.json()}catch(e){console.log(e)}},l=async e=>{try{let t=await fetch("/api/order/order-details?id=".concat(e),{method:"GET",headers:{Authorization:"Bearer ".concat(n.Z.get("token"))}});return await t.json()}catch(e){console.log(e)}},c=s.env.NEXT_PUBLIC_API_URL||"http://localhost:3000",o=async()=>{try{let e=await fetch("".concat(c,"/api/admin/orders/get-all-orders"),{method:"GET",headers:{Authorization:"Bearer ".concat(n.Z.get("token"))}});return await e.json()}catch(e){console.log(" еее ама неска пих"),console.log(e)}},u=async e=>{try{let t=await fetch("".concat(c,"/api/admin/orders/update-order"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n.Z.get("token"))},body:JSON.stringify(e)});return await t.json()}catch(e){console.log(e)}}},8960:function(e){!function(){var t={229:function(e){var t,r,n,s=e.exports={};function a(){throw Error("setTimeout has not been defined")}function i(){throw Error("clearTimeout has not been defined")}function l(e){if(t===setTimeout)return setTimeout(e,0);if((t===a||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:a}catch(e){t=a}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(e){r=i}}();var c=[],o=!1,u=-1;function d(){o&&n&&(o=!1,n.length?c=n.concat(c):u=-1,c.length&&f())}function f(){if(!o){var e=l(d);o=!0;for(var t=c.length;t;){for(n=c,c=[];++u<t;)n&&n[u].run();u=-1,t=c.length}n=null,o=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}s.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new p(e,t)),1!==c.length||o||l(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=m,s.addListener=m,s.once=m,s.off=m,s.removeListener=m,s.removeAllListeners=m,s.emit=m,s.prependListener=m,s.prependOnceListener=m,s.listeners=function(e){return[]},s.binding=function(e){throw Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw Error("process.chdir is not supported")},s.umask=function(){return 0}}},r={};function n(e){var s=r[e];if(void 0!==s)return s.exports;var a=r[e]={exports:{}},i=!0;try{t[e](a,a.exports,n),i=!1}finally{i&&delete r[e]}return a.exports}n.ab="//";var s=n(229);e.exports=s}()},622:function(e,t,r){"use strict";var n=r(2265),s=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function o(e,t,r){var n,a={},o=null,u=null;for(n in void 0!==r&&(o=""+r),void 0!==t.key&&(o=""+t.key),void 0!==t.ref&&(u=t.ref),t)i.call(t,n)&&!c.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===a[n]&&(a[n]=t[n]);return{$$typeof:s,type:e,key:o,ref:u,props:a,_owner:l.current}}t.Fragment=a,t.jsx=o,t.jsxs=o},7437:function(e,t,r){"use strict";e.exports=r(622)},4033:function(e,t,r){e.exports=r(5313)},6535:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(2265),s={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function a(e){var t=function(e){if("number"==typeof e)return{value:e,unit:"px"};var t,r=(e.match(/^[0-9.]*/)||"").toString();t=r.includes(".")?parseFloat(r):parseInt(r,10);var n=(e.match(/[^0-9]*$/)||"").toString();return s[n]?{value:t,unit:n}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(t,"px.")),{value:t,unit:"px"})}(e);return"".concat(t.value).concat(t.unit)}var i=function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var s in t=arguments[r])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},l=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)0>t.indexOf(n[s])&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r},c=function(e,t,r){var n="react-spinners-".concat(e,"-").concat(r);if("undefined"==typeof window||!window.document)return n;var s=document.createElement("style");document.head.appendChild(s);var a=s.sheet,i="\n    @keyframes ".concat(n," {\n      ").concat(t,"\n    }\n  ");return a&&a.insertRule(i,0),n}("PulseLoader","0% {transform: scale(1); opacity: 1} 45% {transform: scale(0.1); opacity: 0.7} 80% {transform: scale(1); opacity: 1}","pulse"),o=function(e){var t=e.loading,r=e.color,s=void 0===r?"#000000":r,o=e.speedMultiplier,u=void 0===o?1:o,d=e.cssOverride,f=e.size,p=void 0===f?15:f,m=e.margin,x=void 0===m?2:m,h=l(e,["loading","color","speedMultiplier","cssOverride","size","margin"]),y=i({display:"inherit"},void 0===d?{}:d),g=function(e){return{backgroundColor:s,width:a(p),height:a(p),margin:a(x),borderRadius:"100%",display:"inline-block",animation:"".concat(c," ").concat(.75/u,"s ").concat(.12*e/u,"s infinite cubic-bezier(0.2, 0.68, 0.18, 1.08)"),animationFillMode:"both"}};return void 0===t||t?n.createElement("span",i({style:y},h),n.createElement("span",{style:g(1)}),n.createElement("span",{style:g(2)}),n.createElement("span",{style:g(3)})):null}},1490:function(e,t,r){"use strict";/*! js-cookie v3.0.5 | MIT */function n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)e[n]=r[n]}return e}r.d(t,{Z:function(){return s}});var s=function e(t,r){function s(e,s,a){if("undefined"!=typeof document){"number"==typeof(a=n({},r,a)).expires&&(a.expires=new Date(Date.now()+864e5*a.expires)),a.expires&&(a.expires=a.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var i="";for(var l in a)a[l]&&(i+="; "+l,!0!==a[l]&&(i+="="+a[l].split(";")[0]));return document.cookie=e+"="+t.write(s,e)+i}}return Object.create({set:s,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var r=document.cookie?document.cookie.split("; "):[],n={},s=0;s<r.length;s++){var a=r[s].split("="),i=a.slice(1).join("=");try{var l=decodeURIComponent(a[0]);if(n[l]=t.read(i,l),e===l)break}catch(e){}}return e?n[e]:n}},remove:function(e,t){s(e,"",n({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,n({},this.attributes,t))},withConverter:function(t){return e(n({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}},function(e){e.O(0,[971,938,744],function(){return e(e.s=7028)}),_N_E=e.O()}]);
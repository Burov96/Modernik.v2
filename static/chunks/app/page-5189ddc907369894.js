(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2601:function(e,t,n){"use strict";var r,s;e.exports=(null==(r=n.g.process)?void 0:r.env)&&"object"==typeof(null==(s=n.g.process)?void 0:s.env)?n.g.process:n(8960)},2577:function(e,t,n){Promise.resolve().then(n.bind(n,3504))},3504:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(7437),s=n(9166),i=n(9890),c=n(4033),o=n(2265);function a(){let{isAuthUser:e}=(0,o.useContext)(s.GlobalContext),[t,n]=(0,o.useState)([]),a=(0,c.useRouter)();async function l(){let e=await (0,i.c0)();e.success&&n(e.data)}return(0,o.useEffect)(()=>{l()},[]),(0,r.jsx)("main",{className:"flex min-h-screen flex-col items-center justify-between p-24",children:(0,r.jsxs)("section",{className:"",children:[(0,r.jsxs)("div",{className:"grid max-w-screen-xl px-4 py-8 mx-suto  lg:gap-8 xl:gap-0 lg:py-16 lg:grid-cols-12",children:[(0,r.jsxs)("div",{className:"mr-auto place-self-center lg:col-span-7",children:[(0,r.jsx)("h1",{className:"max-w-2xl mb-4 text-4xl font-extrabold tracking-tight leading-none md:text-5xl xl:text-6xl",children:"Best Fashion Collection"}),(0,r.jsx)("p",{className:"max-w-2xl mb-6 font-light text-gray-500 lg:mb-8 md:text-lg lg:text-xl",children:"Quisquemos sodales suscipit tortor ditaemcos condimentum de cosmo lacus meleifend menean diverra loremous."}),(0,r.jsx)("button",{type:"button",onClick:()=>a.push("/product/listing/all-products"),className:"mt-1.5 inline-block bg-black px-5 py-3 text-xs font-medium uppercase tracking-wide text-white",children:"Разгледайте новата колекция"})]}),(0,r.jsx)("div",{className:"hidden lg:mt-0 lg:col-span-5 lg:flex",children:(0,r.jsx)("img",{src:"https://images.unsplash.com/photo-1483985988355-763728e1935b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80",alt:"Разгледайте новата колекция"})})]}),(0,r.jsx)("div",{className:"max-w-screen-xl px-4 py-8 mx-auto sm:py-12 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-3 lg:items-stretch",children:[(0,r.jsx)("div",{className:"grid p-6 bg-gray-100 rounded place-content-center sm:p-8",children:(0,r.jsxs)("div",{className:"max-w-md mx-auto text-center lg:text-left",children:[(0,r.jsx)("div",{children:(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-900 sm:text-3xl",children:"Лятна колекция"})}),(0,r.jsx)("button",{onClick:()=>a.push("/product/listing/all-products"),className:"mt-1.5 inline-block bg-black px-5 py-3 text-xs font-medium uppercase tracking-wide text-white",children:"Разгледай"})]})}),(0,r.jsx)("div",{className:"lg:col-span-2 lg:py-8",children:(0,r.jsx)("ul",{className:"grid grid-cols-2 gap-4",children:t&&t.length?t.filter(e=>"yes"===e.onSale).splice(0,2).map(e=>(0,r.jsxs)("li",{onClick:()=>a.push("/product/".concat(e._id)),className:"cursor-pointer",children:[(0,r.jsx)("div",{children:(0,r.jsx)("img",{src:e.imageUrl,alt:"Sale Product Item",className:"object-cover w-full rounded aspect-square"})}),(0,r.jsxs)("div",{className:"mt-3",children:[(0,r.jsx)("h3",{className:"font-medium text-gray-900",children:e.name}),(0,r.jsxs)("p",{className:"mt-1 text-sm text-gray-800",children:["$",e.price," ",(0,r.jsx)("span",{className:"text-red-700",children:"(-".concat(e.priceDrop,"%) Off")})]})]})]},e._id)):null})})]})}),(0,r.jsxs)("div",{className:"max-w-screen-xl px-4 py-8 mx-auto sm:px-6 sm:py-12 lg:px-8",children:[(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-950 sm:text-3xl",children:"Пазарувай по категория"})}),(0,r.jsxs)("ul",{className:"grid grid-cols-1 gap-4 mt-8 lg:grid-cols-3",children:[(0,r.jsx)("li",{children:(0,r.jsxs)("div",{className:"relative block group",children:[(0,r.jsx)("img",{src:"https://images.unsplash.com/photo-1618898909019-010e4e234c55?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=774&q=80",className:"object-cover w-full aspect-square"}),(0,r.jsxs)("div",{className:"absolute inset-0 flex flex-col items-start justify-end p-6",children:[(0,r.jsx)("h3",{className:"text-xl font-medium text-white",children:"Деца"}),(0,r.jsx)("button",{onClick:()=>a.push("/product/listing/kids"),className:"mt-1.5 inline-block bg-black px-5 py-3 text-xs font-medium uppercase tracking-wide text-white",children:"Пазарувай"})]})]})}),(0,r.jsx)("li",{children:(0,r.jsxs)("div",{className:"relative block group",children:[(0,r.jsx)("img",{src:"https://images.unsplash.com/photo-1624623278313-a930126a11c3?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=774&q=80",className:"object-cover w-full aspect-square"}),(0,r.jsxs)("div",{className:"absolute inset-0 flex flex-col items-start justify-end p-6",children:[(0,r.jsx)("h3",{className:"text-xl font-medium text-white",children:"Жени"}),(0,r.jsx)("button",{onClick:()=>a.push("/product/listing/women"),className:"mt-1.5 inline-block bg-black px-5 py-3 text-xs font-medium uppercase tracking-wide text-white",children:"Пазарувай"})]})]})}),(0,r.jsx)("li",{className:"lg:col-span-2 lg:col-start-2 lg:row-span-2 lg:row-start-1",children:(0,r.jsxs)("div",{className:"relative block group",children:[(0,r.jsx)("img",{src:"https://images.unsplash.com/photo-1593795899768-947c4929449d?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2672&q=80",className:"object-cover w-full aspect-square"}),(0,r.jsxs)("div",{className:"absolute inset-0 flex flex-col items-start justify-end p-6",children:[(0,r.jsx)("h3",{className:"text-xl font-medium text-white",children:"Мъже"}),(0,r.jsx)("button",{onClick:()=>a.push("/product/listing/men"),className:"mt-1.5 inline-block bg-black px-5 py-3 text-xs font-medium uppercase tracking-wide text-white",children:"Пазарувай"})]})]})})]})]})]})})}},9166:function(e,t,n){"use strict";n.r(t),n.d(t,{GlobalContext:function(){return o},default:function(){return d},initialCheckoutFormData:function(){return a}});var r=n(7437),s=n(1490),i=n(4033),c=n(2265);let o=(0,c.createContext)(null),a={shippingAddress:{},paymentMethod:"",totalPrice:0,isPaid:!1,paidAt:new Date,isProcessing:!0},l=["cart","checkout","account","orders","admin-view"],u=["/admin-view","/admin-view/add-product","/admin-view/all-products"];function d(e){let{children:t}=e,[n,d]=(0,c.useState)(!1),[p,m]=(0,c.useState)(!0),[f,x]=(0,c.useState)({loading:!1,id:""}),[h,g]=(0,c.useState)(null),[v,b]=(0,c.useState)(null),[y,w]=(0,c.useState)(null),[j,N]=(0,c.useState)(!1),[k,S]=(0,c.useState)([]),[C,T]=(0,c.useState)([]),[_,E]=(0,c.useState)({fullName:"",city:"",country:"",postalCode:"",address:""}),[O,D]=(0,c.useState)(a),[B,A]=(0,c.useState)([]),[I,P]=(0,c.useState)(null),[R,M]=(0,c.useState)([]),U=(0,i.useRouter)(),H=(0,i.usePathname)();return(0,c.useEffect)(()=>{if(void 0!==s.Z.get("token")){g(!0);let e=JSON.parse(localStorage.getItem("user"))||{},t=JSON.parse(localStorage.getItem("cartItems"))||[];b(e),S(t)}else g(!1),b({})},[s.Z]),(0,c.useEffect)(()=>{"/register"!==H&&!H.includes("product")&&"/"!==H&&v&&0===Object.keys(v).length&&l.includes(H)>-1&&U.push("/login")},[v,H]),(0,c.useEffect)(()=>{null!==v&&v&&Object.keys(v).length>0&&(null==v?void 0:v.role)!=="admin"&&u.indexOf(H)>-1&&U.push("/unauthorized-page")},[v,H]),(0,r.jsx)(o.Provider,{value:{showNavmodel:n,setShowNavmodel:d,pageLevelLoader:p,setPageLevelLoader:m,isAuthUser:h,setIsAuthUser:g,user:v,setUser:b,componentLevelLoader:f,setComponentLevelLoader:x,currentUpdatedProduct:y,setCurrentUpdatedProduct:w,showCartModel:j,setShowCartModel:N,cartItems:k,setCartItems:S,addresses:C,setAddresses:T,addressFormData:_,setAddressFormData:E,checkoutFormData:O,setCheckoutFormData:D,allOrdersForUser:B,setAllOrdersForUser:A,orderDetails:I,setOrderDetails:P,allOrdersForAllUsers:R,setAllOrdersForAllUsers:M},children:t})}},9890:function(e,t,n){"use strict";n.d(t,{Tw:function(){return a},ak:function(){return l},c0:function(){return o},xg:function(){return i}});var r=n(1490),s=n(2601);let i=async e=>{try{let t=await fetch("/api/admin/add-product",{method:"POST",headers:{"content-type":"application/json",Authorization:"Bearer ".concat(r.Z.get("token"))},body:JSON.stringify(e)});return await t.json()}catch(e){console.log(e)}},c=s.env.NEXT_PUBLIC_API_URL||"http://localhost:3000",o=async()=>{try{let e=await fetch("".concat(c,"/api/admin/all-products"),{method:"GET",cache:"no-store"});return await e.json()}catch(e){console.log(e)}},a=async e=>{try{let t=await fetch("/api/admin/update-product",{method:"PUT",headers:{"content-type":"application/json",Authorization:"Bearer ".concat(r.Z.get("token"))},cache:"no-store",body:JSON.stringify(e)});return await t.json()}catch(e){console.log(e)}},l=async e=>{try{let t=await fetch("/api/admin/delete-product?id=".concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(r.Z.get("token"))}});return await t.json()}catch(e){console.log(e)}}},8960:function(e){!function(){var t={229:function(e){var t,n,r,s=e.exports={};function i(){throw Error("setTimeout has not been defined")}function c(){throw Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{n="function"==typeof clearTimeout?clearTimeout:c}catch(e){n=c}}();var a=[],l=!1,u=-1;function d(){l&&r&&(l=!1,r.length?a=r.concat(a):u=-1,a.length&&p())}function p(){if(!l){var e=o(d);l=!0;for(var t=a.length;t;){for(r=a,a=[];++u<t;)r&&r[u].run();u=-1,t=a.length}r=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===c||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function f(){}s.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];a.push(new m(e,t)),1!==a.length||l||o(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=f,s.addListener=f,s.once=f,s.off=f,s.removeListener=f,s.removeAllListeners=f,s.emit=f,s.prependListener=f,s.prependOnceListener=f,s.listeners=function(e){return[]},s.binding=function(e){throw Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw Error("process.chdir is not supported")},s.umask=function(){return 0}}},n={};function r(e){var s=n[e];if(void 0!==s)return s.exports;var i=n[e]={exports:{}},c=!0;try{t[e](i,i.exports,r),c=!1}finally{c&&delete n[e]}return i.exports}r.ab="//";var s=r(229);e.exports=s}()},622:function(e,t,n){"use strict";var r=n(2265),s=Symbol.for("react.element"),i=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,i={},l=null,u=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)c.call(t,r)&&!a.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:s,type:e,key:l,ref:u,props:i,_owner:o.current}}t.Fragment=i,t.jsx=l,t.jsxs=l},7437:function(e,t,n){"use strict";e.exports=n(622)},4033:function(e,t,n){e.exports=n(5313)},1490:function(e,t,n){"use strict";/*! js-cookie v3.0.5 | MIT */function r(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}n.d(t,{Z:function(){return s}});var s=function e(t,n){function s(e,s,i){if("undefined"!=typeof document){"number"==typeof(i=r({},n,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var c="";for(var o in i)i[o]&&(c+="; "+o,!0!==i[o]&&(c+="="+i[o].split(";")[0]));return document.cookie=e+"="+t.write(s,e)+c}}return Object.create({set:s,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},s=0;s<n.length;s++){var i=n[s].split("="),c=i.slice(1).join("=");try{var o=decodeURIComponent(i[0]);if(r[o]=t.read(c,o),e===o)break}catch(e){}}return e?r[e]:r}},remove:function(e,t){s(e,"",r({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,r({},this.attributes,t))},withConverter:function(t){return e(r({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}},function(e){e.O(0,[971,938,744],function(){return e(e.s=2577)}),_N_E=e.O()}]);
exports.id=5075,exports.ids=[5075],exports.modules={81202:(e,t,l)=>{Promise.resolve().then(l.t.bind(l,2583,23)),Promise.resolve().then(l.t.bind(l,26840,23)),Promise.resolve().then(l.t.bind(l,38771,23)),Promise.resolve().then(l.t.bind(l,13225,23)),Promise.resolve().then(l.t.bind(l,9295,23)),Promise.resolve().then(l.t.bind(l,43982,23))},8235:(e,t,l)=>{Promise.resolve().then(l.bind(l,24081)),Promise.resolve().then(l.bind(l,46859))},97027:(e,t,l)=>{"use strict";l.d(t,{Z:()=>n});var a=l(95344),i=l(7732);function n({text:e,color:t,loading:l,size:n}){return(0,a.jsxs)("span",{className:"flex gap-1 items-center",children:[e,a.jsx(i.Z,{color:t,loading:l,size:n||10,"data-testid":"loader"})]})}},24081:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>y});var a=l(95344),i=l(46859),n=l(78379),s=l(3729),o=l(3463),r=l(38297);function c({modelTitle:e,mainContent:t,showButtons:l,buttonComponent:i,show:n,setShow:c,showmodelTitle:d}){return a.jsx(o.u.Root,{show:n,as:s.Fragment,children:(0,a.jsxs)(r.V,{as:"div",className:"relative z-10",onClose:c,children:[a.jsx(o.u.Child,{as:s.Fragment,enter:"ease-in-out duration-900",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in-out duration-500",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:a.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),a.jsx("div",{className:"fixed inset-0 overflow-hidden",children:a.jsx("div",{className:"absolute inset-0 overflow-hidden",children:a.jsx("div",{className:"fixed inset-y-0 right-0 flex max-w-full pl-10",children:a.jsx(o.u.Child,{as:s.Fragment,enter:"ease-in-out duration-900",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in-out duration-500",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:a.jsx(r.V.Panel,{className:"w-screen max-w-md",children:(0,a.jsxs)("div",{className:"flex h-full flex-col overflow-y-scroll bg-white shadow-xl",children:[(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto px-4 py-6 sm:px-6",children:[d?a.jsx("div",{className:"flex items-start justify-between",children:a.jsx(r.V.Title,{children:e})}):null,a.jsx("div",{className:"mt-20",children:t})]}),l?a.jsx("div",{className:"border-none px-4 py-6 sm:px-6",children:i}):null]})})})})})})]})})}var d=l(8014),p=l(22254),m=l(87716),u=l(1208),x=l(97027);function h(){let{showCartModel:e,setShowCartModel:t,cartItems:l,setCartItems:n,user:o,setComponentLevelLoader:r,componentLevelLoader:d}=(0,s.useContext)(i.GlobalContext),h=(0,p.useRouter)();async function b(){let e=await (0,m.tQ)(o?._id);if(e.success){let t=e.data&&e.data.length?e.data.map(e=>({...e,productID:{...e.productID,price:"yes"===e.productID.onSale?parseInt((e.productID.price-e.productID.price*(e.productID.priceDrop/100)).toFixed(2)):e.productID.price}})):[];n(t),localStorage.setItem("cartItems",JSON.stringify(t))}console.log(e)}async function y(e){r({loading:!0,id:e});let t=await (0,m.EI)(e);t.success?(r({loading:!1,id:""}),u.Am.success(t.message,{position:u.Am.POSITION.TOP_RIGHT}),b()):(u.Am.error(t.message,{position:u.Am.POSITION.TOP_RIGHT}),r({loading:!1,id:e}))}return(0,s.useEffect)(()=>{null!==o&&b()},[o]),a.jsx(c,{showButtons:!0,show:e,setShow:t,mainContent:l&&l.length?a.jsx("ul",{role:"list",className:"-my-6 divide-y divide-gray-300",children:l.map(e=>(0,a.jsxs)("li",{className:"flex py-6",children:[a.jsx("div",{className:"h-24 w-24 flex-shrink-0 overflow-hidden rounded-md border border-gray-200",children:a.jsx("img",{src:e&&e.productID&&e.productID.imageUrl,alt:"Cart Item",className:"h-full w-full object-cover object-center"})}),(0,a.jsxs)("div",{className:"ml-4 flex flex-1 flex-col",children:[(0,a.jsxs)("div",{children:[a.jsx("div",{className:"flex justify-between text-base font-medium text-gray-900",children:a.jsx("h3",{children:a.jsx("a",{children:e&&e.productID&&e.productID.name})})}),(0,a.jsxs)("p",{className:"mt-1 text-sm text-gray-600",children:["$",e&&e.productID&&e.productID.price]})]}),a.jsx("div",{className:"flex flex-1 items-end justify-between text-sm",children:a.jsx("button",{type:"button",className:"font-medium text-yellow-600 sm:order-2",onClick:()=>y(e._id),children:d&&d.loading&&d.id===e._id?a.jsx(x.Z,{text:"Премахване",color:"#000000",loading:d&&d.loading}):"Премахни"})})]})]},e.id))}):null,buttonComponent:(0,a.jsxs)(s.Fragment,{children:[a.jsx("button",{type:"button",onClick:()=>{h.push("/cart"),t(!1)},className:"mt-1.5 w-full inline-block bg-black text-white px-5 py-3 text-xs font-medium uppercase tracking-wide",children:"Към количката"}),a.jsx("button",{disabled:l&&0===l.length,type:"button",onClick:()=>{h.push("/checkout"),t(!1)},className:"mt-1.5 w-full inline-block bg-black text-white px-5 py-3 text-xs font-medium uppercase tracking-wide disabled:opacity-50",children:"Плащане"}),a.jsx("div",{className:"mt-6 flex justify-center text-center text-sm text-gray-600",children:(0,a.jsxs)("button",{type:"button",className:"font-medium text-grey",children:["Продължи пазаруването",a.jsx("span",{"aria-hidden":"true",children:" →"})]})})]})})}function b({ismodelView:e=!1,isAdminView:t,router:l}){return a.jsx("div",{className:`items-center justify-between w-full md:flex md:w-auto ${e?"":"hidden"}`,id:"nav-items",children:a.jsx("ul",{className:`flex flex-col p-4 md:p-0 mt-4 font-medium  rounded-lg md:flex-row md:space-x-8 md:mt-0 md:border-0 bg-white ${e?"border-none":"border border-gray-100"}`,children:t?n.GU.map(e=>a.jsx("li",{className:"cursor-pointer block py-2 pl-3 pr-4 text-gray-900 rounded md:p-0",onClick:()=>l.push(e.path),children:e.label},e.id)):n.p8.map(e=>a.jsx("li",{className:"cursor-pointer block py-2 pl-3 pr-4 text-gray-900 rounded md:p-0",onClick:()=>l.push(e.path),children:e.label},e.id))})})}function y(){let{showNavmodel:e,setShowNavmodel:t}=(0,s.useContext)(i.GlobalContext),{user:l,isAuthUser:n,setIsAuthUser:o,setUser:r,currentUpdatedProduct:m,setCurrentUpdatedProduct:u,showCartModel:x,setShowCartModel:y}=(0,s.useContext)(i.GlobalContext),g=(0,p.usePathname)(),f=(0,p.useRouter)();(0,s.useEffect)(()=>{"/admin-view/add-product"!==g&&null!==m&&u(null)},[g]);let w=g.includes("admin-view");return(0,a.jsxs)(a.Fragment,{children:[a.jsx("nav",{className:"bg-white fixed w-full z-20 top-0 left-0 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4",children:[a.jsx("div",{onClick:()=>f.push("/"),className:"flex items-center cursor-pointer",children:a.jsx("span",{className:"slef-center text-2xl font-semibold whitespace-nowrap",children:"Модерник"})}),(0,a.jsxs)("div",{className:"flex md:order-2 gap-2",children:[!w&&n?(0,a.jsxs)(s.Fragment,{children:[a.jsx("button",{className:"mt-1.5 inline-block bg-black px-5 py-3 text-xs font-medium upprcase tracking-wide text-white uppercase",onClick:()=>f.push("/account"),children:"Акаунт"}),a.jsx("button",{className:"mt-1.5 inline-block bg-black px-5 py-3 text-xs font-medium upprcase tracking-wide text-white uppercase",onClick:()=>y(!0),children:"Количка \uD83D\uDED2"})]}):null,l?.role==="admin"?w?a.jsx("button",{className:"mt-1.5 inline-block bg-black px-5 py-3 text-xs font-medium upprcase tracking-wide text-white uppercase",onClick:()=>f.push("/"),children:"Клиентски изглед"}):a.jsx("button",{onClick:()=>f.push("/admin-view"),className:"mt-1.5 inline-block bg-black px-5 py-3 text-xs font-medium upprcase tracking-wide text-white uppercase",children:"Админ"}):null,n?a.jsx("button",{onClick:function(){o(!1),r(null),d.Z.remove("token"),localStorage.clear(),f.push("/")},className:"mt-1.5 inline-block bg-black px-5 py-3 text-xs font-medium upprcase tracking-wide text-white uppercase",children:"Излез"}):a.jsx("button",{onClick:()=>f.push("/login"),className:"mt-1.5 inline-block bg-black px-5 py-3 text-xs font-medium upprcase tracking-wide text-white uppercase",children:"Влез"}),(0,a.jsxs)("button",{"data-collapse-toggle":"navbar-sticky",type:"button",className:"inline-flex items-center p-2 text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600","aria-controls":"navbar-sticky","aria-expanded":"false",onClick:()=>t(!0),children:[a.jsx("span",{className:"sr-only",children:"Open main menu"}),a.jsx("svg",{className:"w-6 h-6","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{"fill-rule":"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z","clip-rule":"evenodd"})})]})]}),a.jsx(b,{router:f,isAdminView:w})]})}),a.jsx(c,{showmodelTitle:!1,mainContent:a.jsx(b,{router:f,ismodelView:!0,isAdminView:w}),show:e,setShow:t}),x&&a.jsx(h,{})]})}},46859:(e,t,l)=>{"use strict";l.r(t),l.d(t,{GlobalContext:()=>o,default:()=>p,initialCheckoutFormData:()=>r});var a=l(95344),i=l(8014),n=l(22254),s=l(3729);let o=(0,s.createContext)(null),r={shippingAddress:{},paymentMethod:"",totalPrice:0,isPaid:!1,paidAt:new Date,isProcessing:!0},c=["cart","checkout","account","orders","admin-view"],d=["/admin-view","/admin-view/add-product","/admin-view/all-products"];function p({children:e}){let[t,l]=(0,s.useState)(!1),[p,m]=(0,s.useState)(!0),[u,x]=(0,s.useState)({loading:!1,id:""}),[h,b]=(0,s.useState)(null),[y,g]=(0,s.useState)(null),[f,w]=(0,s.useState)(null),[j,v]=(0,s.useState)(!1),[k,N]=(0,s.useState)([]),[S,C]=(0,s.useState)([]),[I,T]=(0,s.useState)({fullName:"",city:"",country:"",postalCode:"",address:""}),[D,P]=(0,s.useState)(r),[E,A]=(0,s.useState)([]),[O,F]=(0,s.useState)(null),[G,z]=(0,s.useState)([]),J=(0,n.useRouter)(),Z=(0,n.usePathname)();return(0,s.useEffect)(()=>{if(void 0!==i.Z.get("token")){b(!0);let e=JSON.parse(localStorage.getItem("user"))||{},t=JSON.parse(localStorage.getItem("cartItems"))||[];g(e),N(t)}else b(!1),g({})},[i.Z]),(0,s.useEffect)(()=>{"/register"!==Z&&!Z.includes("product")&&"/"!==Z&&y&&0===Object.keys(y).length&&c.includes(Z)>-1&&J.push("/login")},[y,Z]),(0,s.useEffect)(()=>{null!==y&&y&&Object.keys(y).length>0&&y?.role!=="admin"&&d.indexOf(Z)>-1&&J.push("/unauthorized-page")},[y,Z]),a.jsx(o.Provider,{value:{showNavmodel:t,setShowNavmodel:l,pageLevelLoader:p,setPageLevelLoader:m,isAuthUser:h,setIsAuthUser:b,user:y,setUser:g,componentLevelLoader:u,setComponentLevelLoader:x,currentUpdatedProduct:f,setCurrentUpdatedProduct:w,showCartModel:j,setShowCartModel:v,cartItems:k,setCartItems:N,addresses:S,setAddresses:C,addressFormData:I,setAddressFormData:T,checkoutFormData:D,setCheckoutFormData:P,allOrdersForUser:E,setAllOrdersForUser:A,orderDetails:O,setOrderDetails:F,allOrdersForAllUsers:G,setAllOrdersForAllUsers:z},children:e})}},87716:(e,t,l)=>{"use strict";l.d(t,{EI:()=>s,Xq:()=>i,tQ:()=>n});var a=l(8014);let i=async e=>{try{let t=await fetch("/api/cart/add-to-cart",{method:"POST",headers:{"content-type":"application/json",Authorization:`Bearer ${a.Z.get("token")}`},body:JSON.stringify(e)});return await t.json()}catch(e){console.log(e)}},n=async e=>{try{let t=await fetch(`/api/cart/all-cart-items?id=${e}`,{method:"GET",headers:{Authorization:`Bearer ${a.Z.get("token")}`}});return await t.json()}catch(e){console.log(e)}},s=async e=>{try{let t=await fetch(`/api/cart/delete-from-cart?id=${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${a.Z.get("token")}`}});return await t.json()}catch(e){console.log(e)}}},78379:(e,t,l)=>{"use strict";l.d(t,{GP:()=>c,GU:()=>i,Hp:()=>n,d2:()=>o,jJ:()=>r,mO:()=>p,p8:()=>a,qe:()=>d,vV:()=>s}),l(76041),l(69149);let a=[{id:"home",label:"Home",path:"/"},{id:"listing",label:"Всички продукти",path:"/product/listing/all-products"},{id:"listingMen",label:"Мъже",path:"/product/listing/men"},{id:"listingWomen",label:"Жени",path:"/product/listing/women"},{id:"listingKids",label:"Деца",path:"/product/listing/kids"}],i=[{id:"adminListing",label:"Обновяване на продукт",path:"/admin-view/all-products"},{id:"adminNewProduct",label:"Добавяне на продукти",path:"/admin-view/add-product"},{id:"orders",label:"Поръчки",path:"/admin-view/orders"}],n=[{id:"name",type:"text",placeholder:"Въведете вашето име",label:"Име",componentType:"input"},{id:"email",type:"email",placeholder:"Въведете email адрес",label:"Email адрес",componentType:"input"},{id:"password",type:"password",placeholder:"Въведете парола",label:"Парола",componentType:"input"},{id:"role",type:"",placeholder:"",label:"Role",componentType:"select",options:[{id:"admin",label:"Admin"},{id:"customer",label:"customer"}]}],s=[{id:"email",type:"email",placeholder:"Въведете email адрес",label:"Email",componentType:"input"},{id:"password",type:"password",placeholder:"Въведете парола",label:"Парола",componentType:"input"}],o=[{id:"name",type:"text",placeholder:"Enter name",label:"Име",componentType:"input"},{id:"price",type:"number",placeholder:"Въведете цена",label:"Цена",componentType:"input"},{id:"description",type:"text",placeholder:"Въведете описание",label:"Описание",componentType:"input"},{id:"category",type:"",placeholder:"",label:"Категория",componentType:"select",options:[{id:"men",label:"Мъже"},{id:"women",label:"Жени"},{id:"kids",label:"Деца"}]},{id:"deliveryInfo",type:"text",placeholder:"Въведете адрес",label:"Адрес",componentType:"input"},{id:"onSale",type:"",placeholder:"",label:"Промоция",componentType:"select",options:[{id:"yes",label:"Да"},{id:"no",label:"Не"}]},{id:"priceDrop",type:"number",placeholder:"Въведете намалението в %",label:"Намаление",componentType:"input"}],r=[{id:"s",label:"S"},{id:"m",label:"M"},{id:"l",label:"L"}],c=[{id:"fullName",type:"input",placeholder:"Въведете вашите имена",label:"Три имена",componentType:"input"},{id:"address",type:"input",placeholder:"Въведете адрес",label:"Адрес",componentType:"input"},{id:"city",type:"input",placeholder:"Въведете град",label:"Град",componentType:"input"},{id:"country",type:"input",placeholder:"Въведете държава",label:"Държава",componentType:"input"},{id:"postalCode",type:"input",placeholder:"Въведете пощенски код",label:"Пощенски код",componentType:"input"}],d={apiKey:"AIzaSyD5Alvae8H3a2To1DRjvweJVUuUwYTiF9I",authDomain:"modernik.firebaseapp.com",projectId:"modernik",storageBucket:"modernik.appspot.com",messagingSenderId:"626955762261",appId:"1:626955762261:web:02f40e7c046a9e779372dc",measurementId:"G-BZL21K1RQM"},p="gs://modernik.appspot.com"},89374:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>b,metadata:()=>h});var a=l(25036),i=l(11457),n=l.n(i),s=l(86843);let o=(0,s.createProxy)(String.raw`D:\Programming\E-commerce App w NextJS\ecommerce - Copy\src\context\index.js`),{__esModule:r,$$typeof:c}=o,d=o.default;(0,s.createProxy)(String.raw`D:\Programming\E-commerce App w NextJS\ecommerce - Copy\src\context\index.js#GlobalContext`),(0,s.createProxy)(String.raw`D:\Programming\E-commerce App w NextJS\ecommerce - Copy\src\context\index.js#initialCheckoutFormData`),l(5023);let p=(0,s.createProxy)(String.raw`D:\Programming\E-commerce App w NextJS\ecommerce - Copy\src\components\Navbar\index.js`),{__esModule:m,$$typeof:u}=p,x=p.default,h={title:"Модерник \uD83D\uDED2",description:"Generated by create next app"};function b({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{className:n().className,children:(0,a.jsxs)(d,{children:[a.jsx(x,{}),a.jsx("main",{className:"flex min-h-screen flex-col mt-[80px]",children:e})]})})})}},5023:()=>{}};
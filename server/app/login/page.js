(()=>{var e={};e.id=2626,e.ids=[2626],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},71017:e=>{"use strict";e.exports=require("path")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},65080:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>d,originalPathname:()=>u,pages:()=>p,routeModule:()=>m,tree:()=>c});var s=r(50482),a=r(69108),i=r(62563),l=r.n(i),n=r(68300),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);r.d(t,o);let c=["",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,92941)),"D:\\Programming\\E-commerce App w NextJS\\ecommerce - Copy\\src\\app\\login\\page.js"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,89374)),"D:\\Programming\\E-commerce App w NextJS\\ecommerce - Copy\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],p=["D:\\Programming\\E-commerce App w NextJS\\ecommerce - Copy\\src\\app\\login\\page.js"],u="/login/page",d={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/login/page",pathname:"/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},19048:(e,t,r)=>{Promise.resolve().then(r.bind(r,99925))},99925:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var s=r(95344),a=r(54433),i=r(97027),l=r(79510),n=r(46859);let o=async e=>{try{let t=await fetch("/api/login",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)});return await t.json()}catch(e){console.log(e)}};var c=r(78379),p=r(8014),u=r(22254),d=r(3729),m=r(1208);let x={email:"",password:""};function g(){let[e,t]=(0,d.useState)(x),{isAuthUser:r,setIsAuthUser:g,user:f,setUser:h,componentLevelLoader:b,setComponentLevelLoader:w}=(0,d.useContext)(n.GlobalContext),y=(0,u.useRouter)();async function v(){w({loading:!0,id:""});let r=await o(e);r.success?(m.Am.success(r.message,{position:m.Am.POSITION.TOP_RIGHT}),g(!0),h(r?.finalData?.user),t(x),p.Z.set("token",r?.finalData?.token),localStorage.setItem("user",JSON.stringify(r?.finalData?.user))):(m.Am.error(r.message,{position:m.Am.POSITION.TOP_RIGHT}),g(!1)),w({loading:!1,id:""})}return(0,d.useEffect)(()=>{r&&y.push("/")},[r]),(0,s.jsxs)("div",{className:"bg-white relative",children:[s.jsx("div",{className:"flex flex-col items-center justify-between pt-0 pr-10 pb-0 pl-10 mt-8 mr-auto xl:px-5 lg:flex-row",children:s.jsx("div",{className:"flex flex-col justify-center items-center w-full pr-10 pl-10 lg:flex-row",children:s.jsx("div",{className:"w-full mt-10 mr-0 mb-0 ml-0 relative max-w-2xl lg:mt-0 lg:w-5/12",children:(0,s.jsxs)("div",{className:"flex flex-col items-center justify-start pt-10 pr-10 pb-10 pl-10 bg-white shadow-2xl rounded-xl relative z-10",children:[s.jsx("p",{className:" text-black w-full text-4xl font-medium text-center font-serif",children:"Вход"}),(0,s.jsxs)("div",{className:" text-black text-l w-full mt-6 mr-0 mb-0 ml-0 relative space-y-8",children:[c.vV.map(r=>"input"===r.componentType?s.jsx(a.Z,{type:r.type,placeholder:r.placeholder,label:r.label,value:e[r.id],onChange:s=>{t({...e,[r.id]:s.target.value})}}):null),s.jsx("button",{className:"disabled:opacity-50 inline-flex w-full items-center justify-center bg-black px-6 py-4 text-lg  text-white transition-all duration-200 ease-in-out focus:shadow font-medium uppercase tracking-wide ",disabled:!(e&&e.email&&""!==e.email.trim()&&e.password&&""!==e.password.trim()),onClick:v,children:b&&b.loading?s.jsx(i.Z,{text:"Влизане",color:"#ffffff",loading:b&&b.loading}):"Влез"}),(0,s.jsxs)("div",{className:" text-center flex flex-col gap-2",children:[s.jsx("p",{children:"Все още не сте член?"}),s.jsx("button",{className:"inline-flex w-full items-center justify-center bg-black px-6 py-4 text-lg  text-white transition-all duration-200 ease-in-out focus:shadow font-medium uppercase tracking-wide ",onClick:()=>y.push("/register"),children:"Регистрация"})]})]})]})})})}),s.jsx(l.Z,{})]})}},54433:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(95344);function a({label:e,placeholder:t,onChange:r,value:a,type:i}){return(0,s.jsxs)("div",{className:"relative",children:[s.jsx("p",{className:" pt-0 pr-2 pb-0 pl-2 absolute -mt-3 mr-0 mb-0 ml-2 font-medium text-gray-600 bg-white",children:e}),s.jsx("input",{placeholder:t,type:i||"text",value:a,onChange:r,className:"border placeholder-gray-400 focus:outline-none focus:border-black w-full pt-4 pr-4 pb-4 pl-4 mr-0 mt-0 ml-0 text-base block bg-white border-gray-300 rounded-md"})]})}},79510:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var s=r(95344),a=r(1208);function i(){return s.jsx(a.Ix,{position:"top-right",autoClose:4e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light",rtl:!1})}r(45996)},92941:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>a,default:()=>l});let s=(0,r(86843).createProxy)(String.raw`D:\Programming\E-commerce App w NextJS\ecommerce - Copy\src\app\login\page.js`),{__esModule:a,$$typeof:i}=s,l=s.default},73881:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(70337);let a=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},45996:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[1638,5872,337,5075],()=>r(65080));module.exports=s})();
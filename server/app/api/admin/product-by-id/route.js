"use strict";(()=>{var e={};e.id=2461,e.ids=[2461],e.modules={11185:e=>{e.exports=require("mongoose")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},98029:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>h,originalPathname:()=>b,patchFetch:()=>f,requestAsyncStorage:()=>l,routeModule:()=>m,serverHooks:()=>y,staticGenerationAsyncStorage:()=>g,staticGenerationBailout:()=>v});var o={};t.r(o),t.d(o,{GET:()=>p,dynamic:()=>d});var n=t(95419),s=t(69108),a=t(99678),i=t(82338),c=t(2440),u=t(78070);let d="force-dynamic";async function p(e){try{await (0,i.Z)();let{searchParams:r}=new URL(e.url),t=r.get("id");if(!t)return u.Z.json({success:!1,status:400,message:"Необходим е номер на продукта!"});let o=await c.Z.find({_id:t});if(o&&o.length)return u.Z.json({success:!0,data:o[0]});return u.Z.json({success:!1,status:204,message:"Продукта не бе намерен!"})}catch(e){return console.log(e),u.Z.json({success:!1,message:"Нещо се обърка, опитайте отново по-късно!"})}}let m=new n.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/admin/product-by-id/route",pathname:"/api/admin/product-by-id",filename:"route",bundlePath:"app/api/admin/product-by-id/route"},resolvedPagePath:"D:\\Programming\\E-commerce App w NextJS\\ecommerce - Copy\\src\\app\\api\\admin\\product-by-id\\route.js",nextConfigOutput:"",userland:o}),{requestAsyncStorage:l,staticGenerationAsyncStorage:g,serverHooks:y,headerHooks:h,staticGenerationBailout:v}=m,b="/api/admin/product-by-id/route";function f(){return(0,a.patchFetch)({serverHooks:y,staticGenerationAsyncStorage:g})}},82338:(e,r,t)=>{t.d(r,{Z:()=>a});var o=t(11185),n=t.n(o);let s={useNewUrlParser:!0,useUnifiedTopology:!0},a=async()=>{n().connect("mongodb+srv://burov96:123456782023@cluster0.p1f5hzv.mongodb.net/",s).then(()=>console.log("Успешна връзка с база данни!")).catch(e=>console.log(`Получихте следното съобщение от база данни : ${e.message}`))}},2440:(e,r,t)=>{t.d(r,{Z:()=>a});var o=t(11185),n=t.n(o);let s=new(n()).Schema({name:String,description:String,price:Number,category:String,sizes:Array,deliveryInfo:String,onSale:String,priceDrop:Number,imageUrl:String},{timestamps:!0}),a=n().models.Products||n().model("Products",s)}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[1638,6206],()=>t(98029));module.exports=o})();
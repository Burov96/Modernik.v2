"use strict";(()=>{var e={};e.id=830,e.ids=[830],e.modules={46517:e=>{e.exports=require("lodash")},11185:e=>{e.exports=require("mongoose")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},14300:e=>{e.exports=require("buffer")},6113:e=>{e.exports=require("crypto")},12781:e=>{e.exports=require("stream")},73837:e=>{e.exports=require("util")},46743:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>h,originalPathname:()=>x,patchFetch:()=>q,requestAsyncStorage:()=>f,routeModule:()=>m,serverHooks:()=>y,staticGenerationAsyncStorage:()=>g,staticGenerationBailout:()=>v});var s={};t.r(s),t.d(s,{DELETE:()=>l,dynamic:()=>p});var a=t(95419),o=t(69108),n=t(99678),c=t(82338),u=t(48967),i=t(73873),d=t(78070);let p="force-dynamic";async function l(e){try{if(await (0,c.Z)(),!await (0,u.Z)(e))return d.Z.json({success:!1,message:"Не сте удостоверени!"});{let{searchParams:r}=new URL(e.url),t=r.get("id");if(!t)return d.Z.json({success:!1,message:"Необходим е номер на продукта"});if(await i.Z.findByIdAndDelete(t))return d.Z.json({success:!0,message:"Продукта е премахнат успешно"});return d.Z.json({success:!1,message:"Не успяхте да премахнете този продукт."})}}catch(e){return d.Z.json({success:!1,message:"Нещо се обърка, опитайте отново по-късно!"})}}let m=new a.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/cart/delete-from-cart/route",pathname:"/api/cart/delete-from-cart",filename:"route",bundlePath:"app/api/cart/delete-from-cart/route"},resolvedPagePath:"D:\\Programming\\E-commerce App w NextJS\\ecommerce - Copy\\src\\app\\api\\cart\\delete-from-cart\\route.js",nextConfigOutput:"",userland:s}),{requestAsyncStorage:f,staticGenerationAsyncStorage:g,serverHooks:y,headerHooks:h,staticGenerationBailout:v}=m,x="/api/cart/delete-from-cart/route";function q(){return(0,n.patchFetch)({serverHooks:y,staticGenerationAsyncStorage:g})}},82338:(e,r,t)=>{t.d(r,{Z:()=>n});var s=t(11185),a=t.n(s);let o={useNewUrlParser:!0,useUnifiedTopology:!0},n=async()=>{a().connect("mongodb+srv://burov96:123456782023@cluster0.p1f5hzv.mongodb.net/",o).then(()=>console.log("Успешна връзка с база данни!")).catch(e=>console.log(`Получихте следното съобщение от база данни : ${e.message}`))}},48967:(e,r,t)=>{t.d(r,{Z:()=>o});var s=t(46082),a=t.n(s);let o=async e=>{let r=e.headers.get("Authorization")?.split(" ")[1];if(!r)return!1;try{let e=a().verify(r,"default_secret_key");if(e)return e}catch(e){return console.log(e),!1}}},73873:(e,r,t)=>{t.d(r,{Z:()=>n});var s=t(11185),a=t.n(s);let o=new(a()).Schema({userID:{type:a().Schema.Types.ObjectId,ref:"User"},productID:{type:a().Schema.Types.ObjectId,ref:"Products"},quantity:{type:Number,required:!0,default:1}},{timestamps:!0}),n=a().models.Cart||a().model("Cart",o)}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[1638,6206,6082],()=>t(46743));module.exports=s})();
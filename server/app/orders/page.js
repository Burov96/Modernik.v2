(()=>{var e={};e.id=1569,e.ids=[1569],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},71017:e=>{"use strict";e.exports=require("path")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},25514:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>p,pages:()=>d,routeModule:()=>u,tree:()=>l});var s=r(50482),a=r(69108),o=r(62563),i=r.n(o),n=r(68300),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);r.d(t,c);let l=["",{children:["orders",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,36552)),"D:\\Programming\\E-commerce App w NextJS\\ecommerce - Copy\\src\\app\\orders\\page.js"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,89374)),"D:\\Programming\\E-commerce App w NextJS\\ecommerce - Copy\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["D:\\Programming\\E-commerce App w NextJS\\ecommerce - Copy\\src\\app\\orders\\page.js"],p="/orders/page",m={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/orders/page",pathname:"/orders",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},36194:(e,t,r)=>{Promise.resolve().then(r.bind(r,49949))},49949:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var s=r(95344),a=r(79510),o=r(46859),i=r(96211),n=r(22254),c=r(3729),l=r(7732),d=r(1208);function p(){let{user:e,pageLevelLoader:t,setPageLevelLoader:r,allOrdersForUser:p,setAllOrdersForUser:m}=(0,c.useContext)(o.GlobalContext),u=(0,n.useRouter)();async function x(){r(!0);let t=await (0,i.ax)(e?._id);t.success?(r(!1),m(t.data),d.Am.success(t.message,{position:d.Am.POSITION.TOP_RIGHT})):(r(!1),d.Am.error(t.message,{position:d.Am.POSITION.TOP_RIGHT}))}return((0,c.useEffect)(()=>{null!==e&&x()},[e]),console.log(p),t)?s.jsx("div",{className:"w-full min-h-screen flex justify-center items-center",children:s.jsx(l.Z,{color:"#000000",loading:t,size:30,"data-testid":"loader"})}):(0,s.jsxs)("section",{children:[s.jsx("div",{className:"mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"mt-8 mx-auto max-w-screen-xl px-4 sm:px-6 lg:px-8",children:s.jsx("div",{children:s.jsx("div",{className:"px-4 py-6 sm:px-8 sm:py-10",children:s.jsx("div",{className:"flow-root",children:p&&p.length?s.jsx("ul",{className:"flex flex-col gap-4",children:p.map(e=>(0,s.jsxs)("li",{className:"bg-gray-200 shadow p-5 flex flex-col space-y-3 py-6 text-left",children:[(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsxs)("h1",{className:"font-bold text-lg mb-3 flex-1",children:["#order: ",e._id]}),(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx("p",{className:"mr-3 text-sm font-medium text-gray-900",children:"Total paid amount"}),(0,s.jsxs)("p",{className:"mr-3 text-2xl  font-semibold text-gray-900",children:["$",e.totalPrice]})]})]}),s.jsx("div",{className:"flex gap-2",children:e.orderItems.map((e,t)=>s.jsx("div",{className:"shrink-0",children:s.jsx("img",{alt:"Order Item",className:"h-24 w-24 max-w-full rounded-lg object-cover",src:e&&e.product&&e.product.imageUrl})},t))}),(0,s.jsxs)("div",{className:"flex gap-5",children:[s.jsx("button",{className:"disabled:opacity-50 mt-5 mr-5  inline-block bg-black text-white px-5 py-3 text-xs font-medium uppercase tracking-wide",children:e.isProcessing?"Order is Processing":"Order is delivered"}),s.jsx("button",{onClick:()=>u.push(`/orders/${e._id}`),className:" mt-5 mr-5  inline-block bg-black text-white px-5 py-3 text-xs font-medium uppercase tracking-wide",children:"View Order Details"})]})]},e._id))}):null})})})})}),s.jsx(a.Z,{})]})}},79510:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var s=r(95344),a=r(1208);function o(){return s.jsx(a.Ix,{position:"top-right",autoClose:4e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light",rtl:!1})}r(45996)},96211:(e,t,r)=>{"use strict";r.d(t,{Bi:()=>c,ax:()=>o,mg:()=>a,s$:()=>i,wr:()=>l});var s=r(8014);let a=async e=>{try{let t=await fetch("/api/order/create-order",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s.Z.get("token")}`},body:JSON.stringify(e)});return await t.json()}catch(e){console.log(e)}},o=async e=>{try{let t=await fetch(`/api/order/get-all-orders?id=${e}`,{method:"GET",headers:{Authorization:`Bearer ${s.Z.get("token")}`}});return await t.json()}catch(e){console.log(e)}},i=async e=>{try{let t=await fetch(`/api/order/order-details?id=${e}`,{method:"GET",headers:{Authorization:`Bearer ${s.Z.get("token")}`}});return await t.json()}catch(e){console.log(e)}},n=process.env.NEXT_PUBLIC_API_URL||"http://localhost:3000",c=async()=>{try{let e=await fetch(`${n}/api/admin/orders/get-all-orders`,{method:"GET",headers:{Authorization:`Bearer ${s.Z.get("token")}`}});return await e.json()}catch(e){console.log(" еее ама неска пих"),console.log(e)}},l=async e=>{try{let t=await fetch(`${n}/api/admin/orders/update-order`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s.Z.get("token")}`},body:JSON.stringify(e)});return await t.json()}catch(e){console.log(e)}}},36552:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>o,__esModule:()=>a,default:()=>i});let s=(0,r(86843).createProxy)(String.raw`D:\Programming\E-commerce App w NextJS\ecommerce - Copy\src\app\orders\page.js`),{__esModule:a,$$typeof:o}=s,i=s.default},73881:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(70337);let a=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},45996:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[1638,5872,337,5075],()=>r(25514));module.exports=s})();
(()=>{var e={};e.id=4011,e.ids=[4011],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},71017:e=>{"use strict";e.exports=require("path")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},85403:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>p,routeModule:()=>d,tree:()=>c});var s=r(50482),a=r(69108),i=r(62563),o=r.n(i),l=r(68300),n={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>l[e]);r.d(t,n);let c=["",{children:["register",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,27114)),"D:\\Programming\\E-commerce App w NextJS\\ecommerce - Copy\\src\\app\\register\\page.js"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,89374)),"D:\\Programming\\E-commerce App w NextJS\\ecommerce - Copy\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],p=["D:\\Programming\\E-commerce App w NextJS\\ecommerce - Copy\\src\\app\\register\\page.js"],u="/register/page",m={require:r,loadChunk:()=>Promise.resolve()},d=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/register/page",pathname:"/register",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},72529:(e,t,r)=>{Promise.resolve().then(r.bind(r,92412))},92412:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var s=r(95344),a=r(54433),i=r(34729),o=r(97027),l=r(79510),n=r(46859);let c=async e=>{try{let t=await fetch("/api/register",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)});return await t.json()}catch(e){console.log("error",e)}};var p=r(78379),u=r(22254),m=r(3729),d=r(1208);let x={name:"",email:"",password:"",role:"customer"};function g(){let[e,t]=(0,m.useState)(x),[r,g]=(0,m.useState)(!1),{pageLevelLoader:f,setPageLevelLoader:h,isAuthUser:b}=(0,m.useContext)(n.GlobalContext),v=(0,u.useRouter)();function w(){return!!e&&!!e.name&&""!==e.name.trim()&&!!e.email&&""!==e.email.trim()&&!!e.password&&""!==e.password.trim()}async function y(){h(!0);let r=await c(e);r.success?(d.Am.success(r.message,{position:d.Am.POSITION.TOP_RIGHT}),g(!0)):d.Am.error(r.message,{position:d.Am.POSITION.TOP_RIGHT}),h(!1),t(x),console.log(r)}return console.log(e),console.log(w()),(0,m.useEffect)(()=>{b&&v.push("/")},[b]),(0,s.jsxs)("div",{className:"bg-white relative",children:[s.jsx("div",{className:"flex flex-col items-center justify-between pt-0 pr-10 pb-0 pl-10 mt-8 mr-auto xl:px-5 lg:flex-row",children:s.jsx("div",{className:"flex flex-col justify-center items-center w-full pr-10 pl-10 lg:flex-row",children:s.jsx("div",{className:"w-full mt-10 mr-0 mb-0 ml-0 relative max-w-2xl lg:mt-0 lg:w-5/12",children:(0,s.jsxs)("div",{className:"flex flex-col items-center justify-start pt-10 pr-10 pb-10 pl-10 bg-white shadow-2xl rounded-xl relative z-10",children:[s.jsx("p",{className:"w-full text-4xl font-medium text-center font-serif",children:r?"Регистрацията е успешна!":"Регистрация"}),r?s.jsx("button",{className:"inline-flex w-full items-center justify-center bg-black px-6 py-4 text-lg  text-white transition-all duration-200 ease-in-out focus:shadow font-medium uppercase tracking-wide ",onClick:()=>v.push("/login"),children:"Вход"}):(0,s.jsxs)("div",{className:"w-full mt-6 mr-0 mb-0 ml-0 relative space-y-8",children:[p.Hp.map(r=>"input"===r.componentType?s.jsx(a.Z,{type:r.type,placeholder:r.placeholder,label:r.label,onChange:s=>{t({...e,[r.id]:s.target.value})},value:e[r.id]}):"select"===r.componentType?s.jsx(i.Z,{options:r.options,label:r.label,onChange:s=>{t({...e,[r.id]:s.target.value})},value:e[r.id]}):null),s.jsx("button",{className:" disabled:opacity-50 inline-flex w-full items-center justify-center bg-black px-6 py-4 text-lg  text-white transition-all duration-200 ease-in-out focus:shadow font-medium uppercase tracking-wide ",disabled:!w(),onClick:y,children:f?"Регистриране":s.jsx(o.Z,{text:"Регистриране",color:"#ffffff",loading:f})})]})]})})})}),s.jsx(l.Z,{})]})}},54433:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(95344);function a({label:e,placeholder:t,onChange:r,value:a,type:i}){return(0,s.jsxs)("div",{className:"relative",children:[s.jsx("p",{className:" pt-0 pr-2 pb-0 pl-2 absolute -mt-3 mr-0 mb-0 ml-2 font-medium text-gray-600 bg-white",children:e}),s.jsx("input",{placeholder:t,type:i||"text",value:a,onChange:r,className:"border placeholder-gray-400 focus:outline-none focus:border-black w-full pt-4 pr-4 pb-4 pl-4 mr-0 mt-0 ml-0 text-base block bg-white border-gray-300 rounded-md"})]})}},34729:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(95344);function a({label:e,value:t,onChange:r,options:a=[]}){return(0,s.jsxs)("div",{className:"relative",children:[s.jsx("p",{className:" pt-0 pr-2 absolute pb-0 pl-2 -mt-3 mr-0 mb-0 ml-2 font-medium text-gray-600 bg-white",children:e}),s.jsx("select",{value:t,onChange:r,className:"border placeholder-gray-400 focus:outline-none focus:border-black w-full pt-4 pr-4 pb-4 pl-4 mr-0 mt-0 ml-0 text-base block bg-white border-gray-300 rounded-md",children:a&&a.length?a.map(e=>s.jsx("option",{id:e.id,value:e.id,children:e.label},e.id)):s.jsx("option",{id:"",value:"",children:"Избери"})})]})}},79510:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var s=r(95344),a=r(1208);function i(){return s.jsx(a.Ix,{position:"top-right",autoClose:4e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light",rtl:!1})}r(45996)},27114:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>a,default:()=>o});let s=(0,r(86843).createProxy)(String.raw`D:\Programming\E-commerce App w NextJS\ecommerce - Copy\src\app\register\page.js`),{__esModule:a,$$typeof:i}=s,o=s.default},73881:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(70337);let a=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},45996:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[1638,5872,337,5075],()=>r(85403));module.exports=s})();